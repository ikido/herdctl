{"id":"herdctl-001","title":"Config Parsing Foundation","description":"Implement the configuration parsing foundation for herdctl in packages/core/src/config/. This module parses and validates fleet configuration (herdctl.yaml) and individual agent YAML files, providing a type-safe, validated configuration object for the rest of the system.","status":"tombstone","priority":0,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["feature","ralph"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-002","title":"US-1: Parse Fleet Configuration","description":"As a fleet operator, I want to load a herdctl.yaml file so that I can define my fleet's default settings and agent references.\n\n## Acceptance Criteria\n- [ ] Parses valid herdctl.yaml files using the yaml package\n- [ ] Returns typed FleetConfig object validated by Zod\n- [ ] Throws descriptive errors for invalid YAML syntax\n- [ ] Throws descriptive errors for schema validation failures\n- [ ] Supports all fields from SPEC.md: fleet, defaults, agents, workspace, chat, webhooks, docker\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with tests for this functionality","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["ralph","task"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-003","title":"US-2: Parse Agent Configuration","description":"As a fleet operator, I want to define agents in separate YAML files so that I can organize my agent configurations modularly.\n\n## Acceptance Criteria\n- [ ] Parses agent YAML files referenced by path in fleet config\n- [ ] Returns typed AgentConfig object validated by Zod\n- [ ] Supports all agent fields: name, description, workspace, repo, identity, work_source, schedules, session, permissions, mcp_servers, chat\n- [ ] Handles relative paths resolved from fleet config location\n- [ ] Throws descriptive errors with file path context\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with tests for this functionality","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["ralph","task"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-004","title":"US-3: Merge Defaults with Agent Overrides","description":"As a fleet operator, I want to define fleet-level defaults that agents can override so that I don't repeat common configuration across agents.\n\n## Acceptance Criteria\n- [ ] Fleet defaults section merges into each agent config\n- [ ] Agent-specific values override fleet defaults (deep merge)\n- [ ] Merge applies to: permissions, work_source, session, docker, model, max_turns, permission_mode\n- [ ] Nested objects merge recursively (e.g., permissions.allowed_tools)\n- [ ] Arrays are replaced, not merged (agent's allowed_tools replaces defaults)\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with tests for this functionality","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["ralph","task"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-005","title":"US-4: Environment Variable Interpolation","description":"As a fleet operator, I want to use ${VAR} syntax in YAML values so that I can inject secrets and environment-specific values.\n\n## Acceptance Criteria\n- [ ] Interpolates ${VAR_NAME} patterns in string values\n- [ ] Supports ${VAR:-default} syntax for default values\n- [ ] Throws error for undefined variables without defaults\n- [ ] Preserves non-string values (numbers, booleans, objects)\n- [ ] Works at any nesting depth in the config\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with tests for this functionality","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["ralph","task"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-006","title":"US-5: Load Complete Configuration","description":"As a developer using @herdctl/core, I want to call a single function to load all config so that I get a fully resolved, validated configuration object.\n\n## Acceptance Criteria\n- [ ] loadConfig(configPath?: string) function auto-discovers herdctl.yaml\n- [ ] Searches current directory and parents (like git does)\n- [ ] Loads fleet config, all referenced agents, merges defaults\n- [ ] Returns ResolvedConfig with all agents fully resolved\n- [ ] Validates entire config tree before returning\n- [ ] Can load examples/simple/herdctl.yaml and resolve all agents\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"tombstone","priority":3,"issue_type":"task","created_at":"2026-01-19T16:32:24.448999-05:00","updated_at":"2026-01-19T16:34:57.975682-05:00","labels":["ralph","task"],"deleted_at":"2026-01-19T16:34:57.975682-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"herdctl-08c","title":"Config Parsing Foundation","description":"Implement the configuration parsing foundation for herdctl in packages/core/src/config/. This module parses and validates fleet configuration (herdctl.yaml) and individual agent YAML files, providing a type-safe, validated configuration object for the rest of the system.","status":"closed","priority":0,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:05.79657-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:15:23.987874-05:00","closed_at":"2026-01-19T17:15:23.987874-05:00","close_reason":"Closed","external_ref":"prd:./tasks/config-parsing-prd.md","labels":["feature","ralph"]}
{"id":"herdctl-08c.1","title":"US-1: Parse Fleet Configuration","description":"As a fleet operator, I want to load a herdctl.yaml file so that I can define my fleet's default settings and agent references.\n\n## Acceptance Criteria\n- [ ] Parses valid herdctl.yaml files using the yaml package\n- [ ] Returns typed FleetConfig object validated by Zod\n- [ ] Throws descriptive errors for invalid YAML syntax\n- [ ] Throws descriptive errors for schema validation failures\n- [ ] Supports all fields from SPEC.md: fleet, defaults, agents, workspace, chat, webhooks, docker\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:24.07093-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T16:45:38.811398-05:00","closed_at":"2026-01-19T16:45:38.811398-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-08c.1","depends_on_id":"herdctl-08c","type":"parent-child","created_at":"2026-01-19T16:35:24.071451-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-08c.2","title":"US-2: Parse Agent Configuration","description":"As a fleet operator, I want to define agents in separate YAML files so that I can organize my agent configurations modularly.\n\n## Acceptance Criteria\n- [ ] Parses agent YAML files referenced by path in fleet config\n- [ ] Returns typed AgentConfig object validated by Zod\n- [ ] Supports all agent fields: name, description, workspace, repo, identity, work_source, schedules, session, permissions, mcp_servers, chat\n- [ ] Handles relative paths resolved from fleet config location\n- [ ] Throws descriptive errors with file path context\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:32.594497-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T16:49:48.666339-05:00","closed_at":"2026-01-19T16:49:48.666339-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-08c.2","depends_on_id":"herdctl-08c","type":"parent-child","created_at":"2026-01-19T16:35:32.594991-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.2","depends_on_id":"herdctl-08c.1","type":"blocks","created_at":"2026-01-19T16:36:07.490289-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-08c.3","title":"US-3: Merge Defaults with Agent Overrides","description":"As a fleet operator, I want to define fleet-level defaults that agents can override so that I don't repeat common configuration across agents.\n\n## Acceptance Criteria\n- [ ] Fleet defaults section merges into each agent config\n- [ ] Agent-specific values override fleet defaults (deep merge)\n- [ ] Merge applies to: permissions, work_source, session, docker, model, max_turns, permission_mode\n- [ ] Nested objects merge recursively (e.g., permissions.allowed_tools)\n- [ ] Arrays are replaced, not merged (agent's allowed_tools replaces defaults)\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:40.858149-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T16:55:12.359393-05:00","closed_at":"2026-01-19T16:55:12.359393-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-08c.3","depends_on_id":"herdctl-08c","type":"parent-child","created_at":"2026-01-19T16:35:40.858665-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.3","depends_on_id":"herdctl-08c.1","type":"blocks","created_at":"2026-01-19T16:36:09.87234-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.3","depends_on_id":"herdctl-08c.2","type":"blocks","created_at":"2026-01-19T16:36:09.932272-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-08c.4","title":"US-4: Environment Variable Interpolation","description":"As a fleet operator, I want to use ${VAR} syntax in YAML values so that I can inject secrets and environment-specific values.\n\n## Acceptance Criteria\n- [ ] Interpolates ${VAR_NAME} patterns in string values\n- [ ] Supports ${VAR:-default} syntax for default values\n- [ ] Throws error for undefined variables without defaults\n- [ ] Preserves non-string values (numbers, booleans, objects)\n- [ ] Works at any nesting depth in the config\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:47.087373-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T16:58:00.83921-05:00","closed_at":"2026-01-19T16:58:00.83921-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-08c.4","depends_on_id":"herdctl-08c","type":"parent-child","created_at":"2026-01-19T16:35:47.08787-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.4","depends_on_id":"herdctl-08c.1","type":"blocks","created_at":"2026-01-19T16:36:11.301987-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-08c.5","title":"US-5: Load Complete Configuration","description":"As a developer using @herdctl/core, I want to call a single function to load all config so that I get a fully resolved, validated configuration object.\n\n## Acceptance Criteria\n- [ ] loadConfig(configPath?: string) function auto-discovers herdctl.yaml\n- [ ] Searches current directory and parents (like git does)\n- [ ] Loads fleet config, all referenced agents, merges defaults\n- [ ] Returns ResolvedConfig with all agents fully resolved\n- [ ] Validates entire config tree before returning\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of config module","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T16:35:53.473938-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:03:13.886438-05:00","closed_at":"2026-01-19T17:03:13.886438-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-08c.5","depends_on_id":"herdctl-08c","type":"parent-child","created_at":"2026-01-19T16:35:53.4744-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.5","depends_on_id":"herdctl-08c.3","type":"blocks","created_at":"2026-01-19T16:36:12.905191-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-08c.5","depends_on_id":"herdctl-08c.4","type":"blocks","created_at":"2026-01-19T16:36:12.965556-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq","title":"PRD 4: Agent Runner (herdctl-core-runner)","description":"Implement the agent runner module in packages/core/src/runner/. This module wraps the Claude Agent SDK to execute agents with proper configuration, permissions, MCP server support, and output handling. Integrates with existing config and state modules for complete agent execution lifecycle.","status":"closed","priority":2,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:02.626513-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:48:05.28909-05:00","closed_at":"2026-01-19T20:48:05.28909-05:00","close_reason":"Closed","external_ref":"prd:./tasks/prd-prd-4-agent-runner-herdctl-core-runner.md","labels":["feature","ralph"]}
{"id":"herdctl-2dq.1","title":"US-1: Initialize SDK with Agent Config","description":"As a fleet operator, I want to execute an agent using the Claude Agent SDK so that I can run autonomous agents with proper configuration.\n\n## Acceptance Criteria\n- [ ] Accepts `ResolvedAgentConfig` from the config module\n- [ ] Initializes the SDK's `query` function with agent-specific options\n- [ ] Passes `systemPrompt` from agent config (or uses `claude_code` preset)\n- [ ] Sets `settingSources` to `[\"project\", \"local\"]` for proper settings discovery\n- [ ] Works with the async iterator pattern from the SDK\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:13.953112-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:01:34.398382-05:00","closed_at":"2026-01-19T20:01:34.398382-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.1","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:13.953823-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.2","title":"US-2: Pass MCP Servers from Agent Config","description":"As a fleet operator, I want to configure MCP servers per-agent so that each agent has access to its required tools and integrations.\n\n## Acceptance Criteria\n- [ ] Transforms agent's `mcp_servers` config to SDK's `mcpServers` format\n- [ ] Supports HTTP-based MCP servers (`type: \"http\"`, `url`)\n- [ ] Supports process-based MCP servers (`command`, `args`, `env`)\n- [ ] Interpolates environment variables in MCP config (e.g., `${GITHUB_TOKEN}`)\n- [ ] Passes empty object when no MCP servers configured\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:20.242247-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:04:10.903795-05:00","closed_at":"2026-01-19T20:04:10.903795-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.2","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:20.242971-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.3","title":"US-3: Pass Allowed Tools and Permission Mode","description":"As a fleet operator, I want to control which tools an agent can use so that I can enforce security boundaries per agent.\n\n## Acceptance Criteria\n- [ ] Maps agent's `permissions.mode` to SDK's `permissionMode`\n- [ ] Supports all four modes: `default`, `acceptEdits`, `bypassPermissions`, `plan`\n- [ ] Passes `permissions.allowed_tools` as SDK's `allowedTools` array\n- [ ] Passes `permissions.denied_tools` as SDK's `deniedTools` array (if supported)\n- [ ] Defaults to `acceptEdits` mode when not specified\n- [ ] Supports MCP tool wildcards (e.g., `mcp__posthog__*`)\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:26.452788-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:06:13.272729-05:00","closed_at":"2026-01-19T20:06:13.272729-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.3","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:26.453389-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.4","title":"US-4: Stream Output to Job Log","description":"As a fleet operator, I want to capture all agent output in real-time so that I can monitor agent activity and debug issues.\n\n## Acceptance Criteria\n- [ ] Creates job record via `createJob()` before starting execution\n- [ ] Updates job status to `running` via `updateJob()`\n- [ ] Writes each SDK message to job output via `appendJobOutput()`\n- [ ] Handles all message types: `system`, `assistant`, `tool_use`, `tool_result`, `error`\n- [ ] Preserves message content and metadata in JSONL format\n- [ ] Writes output immediately (no buffering) for real-time monitoring\n- [ ] Updates job with final status when execution completes\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:32.50232-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:12:41.582611-05:00","closed_at":"2026-01-19T20:12:41.582611-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.4","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:32.50291-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.4","depends_on_id":"herdctl-2dq.1","type":"blocks","created_at":"2026-01-19T19:53:15.152546-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.4","depends_on_id":"herdctl-2dq.2","type":"blocks","created_at":"2026-01-19T19:53:15.223953-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.4","depends_on_id":"herdctl-2dq.3","type":"blocks","created_at":"2026-01-19T19:53:15.296822-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.5","title":"US-5: Capture Session ID for Resume/Fork","description":"As a fleet operator, I want to capture and persist the Claude session ID so that I can resume or fork agent sessions later.\n\n## Acceptance Criteria\n- [ ] Extracts `session_id` from `system` message with `subtype: \"init\"`\n- [ ] Updates job metadata with `session_id` once captured\n- [ ] Persists session info via `updateSessionInfo()` for resume capability\n- [ ] Stores agent name, session ID, timestamps, and job count\n- [ ] Session ID available in `RunnerResult` for caller use\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:38.65868-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:16:43.412331-05:00","closed_at":"2026-01-19T20:16:43.412331-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.5","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:38.659244-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.5","depends_on_id":"herdctl-2dq.4","type":"blocks","created_at":"2026-01-19T19:53:21.4604-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.6","title":"US-6: Support Session Resume and Fork","description":"As a fleet operator, I want to resume or fork existing sessions so that agents can maintain context or branch into new conversations.\n\n## Acceptance Criteria\n- [ ] Accepts optional `resume` parameter with session ID\n- [ ] Passes `resume: sessionId` to SDK for session resumption\n- [ ] Accepts optional `fork` parameter for forking sessions\n- [ ] Passes `forkSession: true` to SDK when forking\n- [ ] Creates job with `trigger_type: \"fork\"` and `forked_from` when forking\n- [ ] Updates session info after resume/fork with new job count\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:44.913752-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:20:51.96118-05:00","closed_at":"2026-01-19T20:20:51.96118-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.6","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:44.914334-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.6","depends_on_id":"herdctl-2dq.5","type":"blocks","created_at":"2026-01-19T19:53:21.53246-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.7","title":"US-7: Handle SDK Errors Gracefully","description":"As a fleet operator, I want graceful error handling when things go wrong so that failures are logged and reported properly.\n\n## Acceptance Criteria\n- [ ] Catches SDK initialization errors (e.g., missing API key)\n- [ ] Catches SDK streaming errors during execution\n- [ ] Logs error messages to job output as `error` type messages\n- [ ] Updates job status to `failed` with appropriate `exit_reason`\n- [ ] Provides descriptive error messages with context (job ID, agent name)\n- [ ] Returns error details in `RunnerResult`\n- [ ] Does not crash on malformed SDK responses\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:51.36977-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:29:17.245331-05:00","closed_at":"2026-01-19T20:29:17.245331-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.7","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:51.37037-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.7","depends_on_id":"herdctl-2dq.4","type":"blocks","created_at":"2026-01-19T19:53:21.602415-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.8","title":"US-8: Extract Summary from Final Response","description":"As a fleet operator, I want to capture a summary of what the agent accomplished so that I can quickly understand job outcomes.\n\n## Acceptance Criteria\n- [ ] Extracts summary from final `assistant` message content\n- [ ] Truncates summary to reasonable length (500 chars max)\n- [ ] Stores summary in job metadata via `updateJob()`\n- [ ] Returns summary in `RunnerResult`\n- [ ] Handles cases where no final assistant message exists\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:52:56.316638-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:32:31.073581-05:00","closed_at":"2026-01-19T20:32:31.073581-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.8","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:52:56.317197-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.8","depends_on_id":"herdctl-2dq.4","type":"blocks","created_at":"2026-01-19T19:53:21.672528-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-2dq.9","title":"US-9: Update Documentation","description":"As a developer using herdctl, I want to understand how the runner works so that I can effectively use and debug agent execution.\n\n## Acceptance Criteria\n- [ ] Add **Runner** section to docs site under Internals\n- [ ] Document SDK integration and async iterator pattern\n- [ ] Explain all four permission modes with examples\n- [ ] Document MCP server configuration options\n- [ ] Explain session management (resume/fork)\n- [ ] Document output streaming format and JSONL structure\n- [ ] Include error handling patterns and troubleshooting\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of runner module\n- [ ] Documentation builds successfully (pnpm build in docs/)","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T19:53:02.588822-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T20:37:01.880328-05:00","closed_at":"2026-01-19T20:37:01.880328-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-2dq.9","depends_on_id":"herdctl-2dq","type":"parent-child","created_at":"2026-01-19T19:53:02.589375-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.9","depends_on_id":"herdctl-2dq.6","type":"blocks","created_at":"2026-01-19T19:53:25.952518-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.9","depends_on_id":"herdctl-2dq.7","type":"blocks","created_at":"2026-01-19T19:53:26.024376-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-2dq.9","depends_on_id":"herdctl-2dq.8","type":"blocks","created_at":"2026-01-19T19:53:26.093835-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay","title":"State Management Foundation","description":"Implement the state management foundation for herdctl in packages/core/src/state/. This module manages the .herdctl/ directory structure, providing persistent storage for fleet state, job metadata, job output logs, agent sessions, and runtime information. All state is file-based (no database required), using YAML for structured data and JSONL for streaming logs.","status":"closed","priority":2,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:18.317057-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:47:30.433547-05:00","closed_at":"2026-01-19T19:47:30.433547-05:00","close_reason":"Closed","external_ref":"prd:./tasks/prd-prd-2-state-management.md","labels":["feature","ralph"]}
{"id":"herdctl-3ay.1","title":"US-1: Initialize State Directory Structure","description":"As a fleet operator, I want to have herdctl automatically create and manage the .herdctl/ directory so that all state files are organized and accessible.\n\n## Acceptance Criteria\n- [ ] Creates .herdctl/ directory in the project root if it doesn't exist\n- [ ] Creates subdirectories: jobs/, sessions/, logs/\n- [ ] Creates state.yaml with empty/initial fleet state if it doesn't exist\n- [ ] Validates directory structure on initialization\n- [ ] Returns StateDirectory object with paths to all subdirectories\n- [ ] Throws descriptive errors if directories cannot be created (e.g., permission denied)\n- [ ] Supports custom state directory path via options (default: .herdctl/ in CWD)\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:25.740138-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:53:39.713575-05:00","closed_at":"2026-01-19T17:53:39.713575-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.1","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:25.740735-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.1","depends_on_id":"herdctl-3ay.5","type":"blocks","created_at":"2026-01-19T17:31:13.440634-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.1","depends_on_id":"herdctl-3ay.7","type":"blocks","created_at":"2026-01-19T17:31:13.51583-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.2","title":"US-2: Read/Write Fleet State (state.yaml)","description":"As a fleet operator, I want to persist fleet-wide state across restarts so that agents resume from their last known state.\n\n## Acceptance Criteria\n- [ ] Reads state.yaml and validates against FleetStateSchema\n- [ ] Returns typed FleetState object with:\n  - fleet.started_at - when the fleet was started\n  - agents - map of agent name to AgentState (status, current_job, last_job, next_schedule, next_trigger_at, container_id, error_message)\n- [ ] Writes FleetState back to state.yaml atomically\n- [ ] Handles missing file gracefully (returns default empty state)\n- [ ] Handles corrupted file gracefully (logs warning, returns default state)\n- [ ] Provides updateAgentState(agentName, updates) for partial updates\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:32.287745-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:57:25.224194-05:00","closed_at":"2026-01-19T17:57:25.224194-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.2","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:32.288291-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.2","depends_on_id":"herdctl-3ay.1","type":"blocks","created_at":"2026-01-19T17:31:17.566743-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.3","title":"US-3: Read/Write Job Metadata (job-\u003cid\u003e.yaml)","description":"As a fleet operator, I want to persist job metadata for history and debugging so that I can track what each job did and when.\n\n## Acceptance Criteria\n- [ ] Creates job metadata file at .herdctl/jobs/job-\u003cid\u003e.yaml\n- [ ] Validates against JobMetadataSchema with fields: id, agent, schedule, trigger_type, status, exit_reason, session_id, forked_from, started_at, finished_at, duration_seconds, prompt, summary, output_file\n- [ ] Provides createJob(), updateJob(), getJob(), listJobs() functions\n- [ ] updateJob() uses atomic writes to prevent corruption\n- [ ] listJobs() supports filtering by agent, status, and date range\n- [ ] Generates unique job IDs with format: job-YYYY-MM-DD-\u003crandom6\u003e\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:38.751256-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:09:26.33181-05:00","closed_at":"2026-01-19T18:09:26.33181-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.3","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:38.751858-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.3","depends_on_id":"herdctl-3ay.1","type":"blocks","created_at":"2026-01-19T17:31:21.239569-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.4","title":"US-4: Append to Job Output Logs (job-\u003cid\u003e.jsonl)","description":"As a fleet operator, I want to stream job output to a persistent log file so that I can replay, monitor, and debug job execution.\n\n## Acceptance Criteria\n- [ ] Creates output file at .herdctl/jobs/job-\u003cid\u003e.jsonl\n- [ ] Appends JSONL messages from Claude SDK streaming output\n- [ ] Each line is a valid JSON object with at minimum: type, timestamp\n- [ ] Supports SDK message types: system, assistant, tool_use, tool_result, error\n- [ ] Provides appendJobOutput(jobId, message) function (single message)\n- [ ] Provides appendJobOutputBatch(jobId, messages) function (multiple messages)\n- [ ] Provides readJobOutput(jobId) async generator for streaming reads\n- [ ] Provides getJobOutputPath(jobId) for direct file access\n- [ ] Handles concurrent appends safely (uses append mode)\n- [ ] Validates message structure before writing\n- [ ] Does NOT buffer - writes immediately for real-time monitoring\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:45.988252-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:15:32.706145-05:00","closed_at":"2026-01-19T18:15:32.706145-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.4","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:45.988821-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.4","depends_on_id":"herdctl-3ay.3","type":"blocks","created_at":"2026-01-19T17:31:25.515873-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.5","title":"US-5: Atomic Writes to Prevent Corruption","description":"As a fleet operator, I want to ensure state files are never corrupted during writes so that my fleet state survives crashes and restarts.\n\n## Acceptance Criteria\n- [ ] All YAML writes use atomic write pattern (write to temp file, then rename)\n- [ ] Temp files are written to same directory as target (ensures same filesystem)\n- [ ] Temp files use pattern: .\u003cfilename\u003e.tmp.\u003crandom\u003e\n- [ ] Rename operation is atomic on POSIX systems\n- [ ] On Windows, uses rename with retry logic for best-effort atomicity\n- [ ] JSONL appends use fs.appendFile (atomic at message level on most systems)\n- [ ] Provides atomicWriteFile(path, content) utility function\n- [ ] Cleans up temp files on failure\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:54.547598-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:42:30.554739-05:00","closed_at":"2026-01-19T17:42:30.554739-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.5","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:54.548157-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.6","title":"US-6: Session State Management","description":"As a fleet operator, I want to persist Claude session information per agent so that I can resume or fork sessions later.\n\n## Acceptance Criteria\n- [ ] Stores session info at .herdctl/sessions/\u003cagent-name\u003e.json\n- [ ] Validates against SessionInfoSchema with fields: agent_name, session_id, created_at, last_used_at, job_count, mode\n- [ ] Provides getSessionInfo(agentName), updateSessionInfo(agentName, info), clearSession(agentName)\n- [ ] Handles missing file gracefully (returns null)\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:30:59.964751-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:21:40.375238-05:00","closed_at":"2026-01-19T18:21:40.375238-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.6","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:30:59.965374-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-3ay.6","depends_on_id":"herdctl-3ay.1","type":"blocks","created_at":"2026-01-19T17:31:29.978005-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-3ay.7","title":"US-7: Concurrent Read Safety","description":"As a fleet operator, I want to read state from multiple CLI instances simultaneously so that I can monitor agents while they're running.\n\n## Acceptance Criteria\n- [ ] Read operations don't require locks\n- [ ] Read operations handle file being written to (retry on partial read)\n- [ ] YAML parsing handles empty/truncated files gracefully\n- [ ] JSONL reading handles incomplete last line (truncates to last valid line)\n- [ ] Provides safeReadYaml(path) utility with retry logic\n- [ ] Provides safeReadJsonl(path) utility that handles partial lines\n\n## Quality Gates\n- [ ] pnpm typecheck passes in packages/core\n- [ ] pnpm test passes with \u003e90% coverage of state module","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T17:31:06.104554-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T17:48:02.325929-05:00","closed_at":"2026-01-19T17:48:02.325929-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-3ay.7","depends_on_id":"herdctl-3ay","type":"parent-child","created_at":"2026-01-19T17:31:06.105134-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh","title":"Work Sources (GitHub First, Extensible)","description":"Implement the work sources foundation for herdctl in packages/core/src/work-sources/. This module provides a pluggable adapter pattern for task discovery and lifecycle management, enabling agents to fetch work from external systems. Implements the GitHub Issues adapter while establishing an extensible architecture for future integrations (Beads, Linear, Jira, Notion).","status":"open","priority":2,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-19T21:35:36.114073-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:35:36.114073-05:00","external_ref":"prd:./tasks/prd-prd-5-work-sources-github-first-extensible.md","labels":["feature","ralph"]}
{"id":"herdctl-5lh.1","title":"US-1: Define WorkSource Interface","description":"As a herdctl developer, I want to have a common WorkSource interface so that all work source adapters share a consistent contract.\n\n## Acceptance Criteria\n- [ ] `WorkSource` interface defines `type`, `fetchAvailableWork()`, `claimWork()`, `completeWork()`, `releaseWork()`, `getWork()`\n- [ ] `WorkItem` type captures common fields: `id`, `source`, `externalId`, `title`, `description`, `priority`, `labels`, `metadata`, `url`, `createdAt`, `updatedAt`\n- [ ] `FetchOptions` supports filtering and pagination\n- [ ] `ClaimResult` indicates success/failure with reason\n- [ ] `WorkResult` captures completion outcome (success, failure, partial)\n- [ ] All types are exported from `packages/core/src/work-sources/index.ts`\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:35:46.013495-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:35:46.013495-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.1","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:35:46.014119-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.2","title":"US-2: Create Work Source Registry","description":"As a herdctl developer, I want to register and resolve work source adapters by type so that adding new adapters requires no changes to core code.\n\n## Acceptance Criteria\n- [ ] `registerWorkSource(type: string, factory: WorkSourceFactory)` registers adapters\n- [ ] `getWorkSource(config: WorkSourceConfig)` returns configured adapter instance\n- [ ] Factory pattern allows config-based instantiation\n- [ ] Built-in adapters (GitHub) are pre-registered at module load\n- [ ] Throws `UnknownWorkSourceError` for unregistered types\n- [ ] Registry is singleton per process (module-level state)\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:35:53.128729-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:35:53.128729-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.2","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:35:53.129361-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.2","depends_on_id":"herdctl-5lh.1","type":"blocks","created_at":"2026-01-19T21:36:57.041779-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.3","title":"US-3: Implement GitHub Issues Adapter","description":"As a fleet operator, I want to use GitHub Issues as my work source so that agents can work on issues labeled as ready.\n\n## Acceptance Criteria\n- [ ] Queries issues by `labels.ready` label (configurable, default: `ready`)\n- [ ] Excludes issues with `exclude_labels` (default: `[\"blocked\", \"wip\"]`)\n- [ ] Returns issues sorted by creation date (oldest first)\n- [ ] Supports pagination for repos with many issues\n- [ ] Maps GitHub issue fields to `WorkItem` format\n- [ ] Handles GitHub API errors gracefully\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:02.149922-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:02.149922-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.3","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:02.150534-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.3","depends_on_id":"herdctl-5lh.2","type":"blocks","created_at":"2026-01-19T21:36:57.125791-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.4","title":"US-4: Implement GitHub Issue Lifecycle","description":"As a fleet operator, I want agents to claim, complete, and release issues so that work items move through a defined workflow.\n\n## Acceptance Criteria\n- [ ] `claimWork(taskId)`: Removes `ready` label, adds `in_progress` label (configurable)\n- [ ] `completeWork(taskId, result)`: Closes issue, removes `in_progress` label, adds completion comment with summary\n- [ ] `releaseWork(taskId, reason)`: Removes `in_progress` label, re-adds `ready` label (for failures/timeouts)\n- [ ] `getWork(taskId)`: Fetches single issue by number\n- [ ] Handles concurrent claim attempts (detects if already claimed)\n- [ ] Respects `cleanup_on_failure` config option\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:09.66171-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:09.66171-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.4","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:09.662436-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.4","depends_on_id":"herdctl-5lh.3","type":"blocks","created_at":"2026-01-19T21:36:57.209487-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.5","title":"US-5: Handle GitHub API Edge Cases","description":"As a fleet operator, I want robust handling of GitHub API limitations so that agents don't fail due to transient issues.\n\n## Acceptance Criteria\n- [ ] Implements exponential backoff for rate limit errors (HTTP 403 with `X-RateLimit-Remaining: 0`)\n- [ ] Detects and surfaces rate limit status (remaining, reset time)\n- [ ] Handles network errors with retries (max 3 attempts)\n- [ ] Handles 404 errors gracefully (issue deleted/moved)\n- [ ] Validates PAT has required scopes (issues read/write)\n- [ ] Logs warnings for approaching rate limit (\u003c 100 remaining)\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:17.41316-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:17.41316-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.5","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:17.413825-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.5","depends_on_id":"herdctl-5lh.3","type":"blocks","created_at":"2026-01-19T21:36:57.291502-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.6","title":"US-6: Extend Config Schema for GitHub Work Source","description":"As a fleet operator, I want to configure GitHub work source settings in YAML so that I can customize the workflow per agent.\n\n## Acceptance Criteria\n- [ ] Extends `WorkSourceSchema` with GitHub-specific fields\n- [ ] Supports `repo` field (required, format: `owner/repo`)\n- [ ] Supports `labels.ready` and `labels.in_progress` (optional, with defaults)\n- [ ] Supports `exclude_labels` array (optional)\n- [ ] Supports `cleanup_on_failure` boolean (default: true)\n- [ ] Supports `auth.token_env` for PAT environment variable\n- [ ] Schema validation provides clear error messages\n- [ ] Types are exported and available to other modules\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:25.556968-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:25.556968-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.6","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:25.55765-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.6","depends_on_id":"herdctl-5lh.1","type":"blocks","created_at":"2026-01-19T21:36:57.378551-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.7","title":"US-7: Define Scheduler Integration Interface","description":"As a herdctl developer, I want a clean interface between work sources and the scheduler/runner so that future scheduler implementation has clear contracts.\n\n## Acceptance Criteria\n- [ ] `WorkSourceManager` interface for scheduler to use\n- [ ] `getNextWorkItem(agent: ResolvedAgent)` returns next available work or null\n- [ ] `reportOutcome(taskId: string, result: WorkResult)` reports job completion\n- [ ] Handles work source instantiation and caching per agent\n- [ ] Does NOT implement scheduler logic (interface only)\n- [ ] Documents expected usage patterns in code comments\n- [ ] pnpm typecheck passes\n- [ ] pnpm test passes","status":"open","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:38.656348-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:38.656348-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.7","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:38.660465-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.7","depends_on_id":"herdctl-5lh.2","type":"blocks","created_at":"2026-01-19T21:36:57.464155-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-5lh.8","title":"US-8: Update Documentation","description":"As a herdctl user, I want comprehensive documentation on work sources so that I can configure GitHub Issues integration correctly.\n\n## Acceptance Criteria\n- [ ] Create \"Work Sources\" concept page in docs explaining the adapter pattern\n- [ ] Create \"GitHub Issues\" configuration guide with YAML examples\n- [ ] Document the label-based workflow with diagram\n- [ ] Document rate limiting considerations and best practices\n- [ ] Document PAT token requirements and scope recommendations\n- [ ] pnpm typecheck passes\n- [ ] pnpm build in docs/ passes","status":"open","priority":4,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T21:36:45.297361-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T21:36:45.297361-05:00","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-5lh.8","depends_on_id":"herdctl-5lh","type":"parent-child","created_at":"2026-01-19T21:36:45.297984-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.8","depends_on_id":"herdctl-5lh.4","type":"blocks","created_at":"2026-01-19T21:36:57.54869-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.8","depends_on_id":"herdctl-5lh.5","type":"blocks","created_at":"2026-01-19T21:36:57.632268-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.8","depends_on_id":"herdctl-5lh.6","type":"blocks","created_at":"2026-01-19T21:36:57.711367-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-5lh.8","depends_on_id":"herdctl-5lh.7","type":"blocks","created_at":"2026-01-19T21:36:57.792842-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t","title":"herdctl Documentation Site","description":"Build the documentation site for herdctl using Astro + Starlight in the docs/ directory. Provides comprehensive reference for all herdctl concepts, configuration system, and state management.","status":"closed","priority":2,"issue_type":"epic","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:04.301424-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:47:30.44622-05:00","closed_at":"2026-01-19T19:47:30.44622-05:00","close_reason":"Closed","external_ref":"prd:./tasks/prd-prd-3-herdctl-documentation-site.md","labels":["feature","ralph"]}
{"id":"herdctl-u8t.1","title":"US-1: Initialize Astro with Starlight","description":"As a documentation contributor, I want to have a working Astro/Starlight project in docs/ so that I can create and preview documentation locally.\n\n## Acceptance Criteria\n- [ ] Astro 4.x with @astrojs/starlight installed in docs/\n- [ ] Package configured for pnpm workspace\n- [ ] pnpm dev starts local development server on port 4321\n- [ ] pnpm build produces static site in dist/\n- [ ] Site title: \"herdctl\"\n- [ ] Site tagline: \"Autonomous Agent Fleet Management for Claude Code\"\n- [ ] Configured for eventual deployment to herdctl.dev\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev starts correctly","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:10.677691-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:35:32.211952-05:00","closed_at":"2026-01-19T18:35:32.211952-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.1","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:10.678299-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.10","title":"US-10: Create Configuration Reference - Fleet Config","description":"As a fleet operator, I want to know all fleet configuration options so that I can configure my fleet correctly.\n\n## Acceptance Criteria\n- [ ] Documents herdctl.yaml complete schema\n- [ ] All fields documented with: Type (from Zod schema), Default value, Description, Example\n- [ ] Fields to document (from FleetConfigSchema):\n  - version: Config version (default: 1)\n  - fleet.name, fleet.description: Fleet metadata\n  - defaults: Default agent settings\n  - workspace.root, workspace.auto_clone, workspace.clone_depth, workspace.default_branch\n  - agents: Array of agent references\n  - chat.discord: Discord configuration\n  - webhooks: Webhook configuration\n  - docker: Docker configuration\n- [ ] Complete example YAML\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows fleet config page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:01.782423-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:02:41.155421-05:00","closed_at":"2026-01-19T19:02:41.155421-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.10","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:01.782996-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.10","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.115757-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.11","title":"US-11: Create Configuration Reference - Agent Config","description":"As a fleet operator, I want to know all agent configuration options so that I can configure my agents correctly.\n\n## Acceptance Criteria\n- [ ] Documents complete agent YAML schema\n- [ ] All fields documented (from AgentConfigSchema):\n  - name (required), description\n  - workspace, repo\n  - identity.name, identity.role, identity.personality\n  - system_prompt\n  - work_source.type, work_source.labels\n  - schedules (map of schedule configs)\n  - session.max_turns, session.timeout, session.model\n  - permissions (see Permissions page)\n  - mcp_servers (see MCP Servers page)\n  - chat.discord\n  - docker\n  - model, max_turns, permission_mode\n- [ ] Multiple examples: coder agent, marketer agent, support agent\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows agent config page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:08.380841-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:06:09.555395-05:00","closed_at":"2026-01-19T19:06:09.555395-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.11","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:08.381469-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.11","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.194838-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.12","title":"US-12: Create Configuration Reference - Permissions","description":"As a fleet operator, I want to control what tools my agents can use so that I can ensure appropriate access levels.\n\n## Acceptance Criteria\n- [ ] Documents permission modes (from PermissionModeSchema):\n  - default: Requires approval for everything\n  - acceptEdits: Auto-approve file operations\n  - bypassPermissions: Auto-approve everything\n  - plan: Planning only, no execution\n- [ ] Documents allowed_tools and denied_tools arrays\n- [ ] Documents bash restrictions: allowed_commands, denied_patterns\n- [ ] Examples for common permission patterns\n- [ ] Security recommendations\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows permissions page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:14.639194-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:08:47.715-05:00","closed_at":"2026-01-19T19:08:47.715-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.12","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:14.639758-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.12","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.278388-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.13","title":"US-13: Create Configuration Reference - MCP Servers","description":"As a fleet operator, I want to configure MCP servers for my agents so that agents can access external services.\n\n## Acceptance Criteria\n- [ ] Explains MCP concept briefly\n- [ ] Documents mcp_servers configuration (from McpServerSchema):\n  - HTTP-based: url\n  - Process-based: command, args, env\n- [ ] Documents tool naming: mcp__\u003cserver\u003e__\u003ctool\u003e\n- [ ] Documents wildcard support: mcp__posthog__*\n- [ ] Examples: PostHog, GitHub, filesystem MCP servers\n- [ ] Shows how to combine with allowed_tools\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows MCP servers page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:20.700839-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:11:50.324221-05:00","closed_at":"2026-01-19T19:11:50.324221-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.13","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:20.701414-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.13","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.359157-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.14","title":"US-14: Create Configuration Reference - Environment Variables","description":"As a fleet operator, I want to use environment variables in my config so that I can inject secrets safely.\n\n## Acceptance Criteria\n- [ ] Documents interpolation syntax:\n  - ${VAR_NAME}: Required variable\n  - ${VAR_NAME:-default}: With default value\n- [ ] Documents where interpolation works (any string value)\n- [ ] Documents error behavior for undefined variables\n- [ ] Security recommendations (never commit secrets)\n- [ ] Common patterns: API tokens, URLs, paths\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows environment page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:26.393124-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:14:54.297003-05:00","closed_at":"2026-01-19T19:14:54.297003-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.14","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:26.393675-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.14","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.438151-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.15","title":"US-15: Create State Management Reference","description":"As a developer or operator, I want to understand how herdctl stores state so that I can debug issues or integrate tooling.\n\n## Acceptance Criteria\n- [ ] Documents .herdctl/ directory structure:\n  - state.yaml: Fleet state\n  - jobs/: Job files\n  - sessions/: Session info\n  - logs/: Agent logs\n- [ ] Documents state.yaml format (from FleetStateSchema):\n  - fleet.started_at\n  - agents.\u003cname\u003e.status, current_job, last_job, next_schedule, etc.\n- [ ] Documents job file formats:\n  - job-\u003cid\u003e.yaml: Metadata\n  - job-\u003cid\u003e.jsonl: Streaming output\n- [ ] Documents JSONL message types from SPEC.md\n- [ ] Notes on atomic writes for safety\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows state management page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:33.630803-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:18:25.969837-05:00","closed_at":"2026-01-19T19:18:25.969837-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.15","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:33.631383-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.15","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.516783-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.16","title":"US-16: Create Getting Started Placeholder","description":"As a new user, I want to see a getting started guide so that I know how to begin using herdctl.\n\n## Acceptance Criteria\n- [ ] Placeholder page with clear \"Coming Soon\" message\n- [ ] Brief outline of what will be covered:\n  - Installation\n  - Creating your first agent\n  - Running your fleet\n  - Monitoring output\n- [ ] Links to Concepts section for background reading\n- [ ] Badge indicating placeholder status\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows getting started placeholder correctly","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:38.771524-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:20:07.309807-05:00","closed_at":"2026-01-19T19:20:07.309807-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.16","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:38.772063-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.16","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.597062-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.17","title":"US-17: Create CLI Reference Placeholder","description":"As a user, I want to see the CLI commands available so that I can operate my fleet.\n\n## Acceptance Criteria\n- [ ] Placeholder page with clear \"Coming Soon\" message\n- [ ] Lists planned commands from SPEC.md:\n  - herdctl start [agent]\n  - herdctl stop [agent]\n  - herdctl restart\n  - herdctl status [agent]\n  - herdctl logs [agent]\n  - herdctl trigger \u003cagent\u003e\n  - herdctl config validate\n  - herdctl web\n- [ ] Badge indicating placeholder status\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows CLI reference placeholder correctly","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:43.930838-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:22:07.360651-05:00","closed_at":"2026-01-19T19:22:07.360651-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.17","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:43.931389-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.17","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:06.674984-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.18","title":"US-18: Add Favicon and Assets","description":"As a site visitor, I want to see proper branding so that the site looks professional.\n\n## Acceptance Criteria\n- [ ] Favicon in docs/public/\n- [ ] Site logo configured (if available)\n- [ ] OpenGraph meta tags for social sharing\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows favicon correctly","status":"closed","priority":3,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:31:48.292109-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T19:24:31.800702-05:00","closed_at":"2026-01-19T19:24:31.800702-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.18","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:31:48.294259-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.18","depends_on_id":"herdctl-u8t.1","type":"blocks","created_at":"2026-01-19T18:31:54.556219-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.2","title":"US-2: Create Landing Page and Structure","description":"As a visitor to the documentation, I want to see a welcoming overview page so that I understand what herdctl is and how to navigate the docs.\n\n## Acceptance Criteria\n- [ ] Welcome page (index.mdx) with project overview\n- [ ] Clear tagline: \"Autonomous Agent Fleet Management for Claude Code\"\n- [ ] Brief description of what herdctl does (from SPEC.md Vision section)\n- [ ] Quick navigation to key sections\n- [ ] Feature highlights (Fleet Management, Declarative Config, Multiple Triggers, Work Sources)\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows landing page correctly","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:16.460708-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:38:11.924009-05:00","closed_at":"2026-01-19T18:38:11.924009-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.2","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:16.461438-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.2","depends_on_id":"herdctl-u8t.1","type":"blocks","created_at":"2026-01-19T18:31:54.41114-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.3","title":"US-3: Configure Sidebar Navigation","description":"As a documentation reader, I want to navigate between sections easily so that I can find information quickly.\n\n## Acceptance Criteria\n- [ ] Starlight sidebar configured with hierarchical structure:\n  - Welcome\n  - Getting Started (placeholder)\n  - Concepts (Agents, Schedules, Triggers, Jobs, Workspaces, Sessions)\n  - Configuration (Fleet Config, Agent Config, Permissions, MCP Servers, Environment)\n  - Internals (State Management)\n  - CLI Reference (placeholder)\n- [ ] Sections collapsed by default for cleaner navigation\n- [ ] Badge for \"Placeholder\" sections\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows sidebar navigation correctly","status":"closed","priority":1,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:21.452386-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:42:10.584377-05:00","closed_at":"2026-01-19T18:42:10.584377-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.3","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:21.452902-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.3","depends_on_id":"herdctl-u8t.1","type":"blocks","created_at":"2026-01-19T18:31:54.484122-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.4","title":"US-4: Create Concepts Section - Agents","description":"As a fleet operator, I want to understand what an Agent is so that I can configure my agents correctly.\n\n## Acceptance Criteria\n- [ ] Explains Agent concept (configured Claude instance with identity, workspace, permissions, schedules)\n- [ ] Includes ASCII diagram from SPEC.md showing Agent structure\n- [ ] Documents key agent properties: name, description, workspace, repo, identity, schedules\n- [ ] Links to Configuration Reference for detailed schema\n- [ ] Example agent YAML snippet\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows agents page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:27.610395-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:44:22.612255-05:00","closed_at":"2026-01-19T18:44:22.612255-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.4","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:27.610977-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.4","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:31:59.868314-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.5","title":"US-5: Create Concepts Section - Schedules","description":"As a fleet operator, I want to understand how Schedules work so that I can configure when my agents run.\n\n## Acceptance Criteria\n- [ ] Explains Schedule concept (trigger + prompt combination)\n- [ ] Documents that agents can have multiple schedules\n- [ ] Shows examples: hourly scan + daily analytics + weekly report\n- [ ] Links to Triggers concept\n- [ ] Example schedule YAML\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows schedules page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:33.158691-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:48:27.175655-05:00","closed_at":"2026-01-19T18:48:27.175655-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.5","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:33.159315-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.5","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:31:59.941105-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.6","title":"US-6: Create Concepts Section - Triggers","description":"As a fleet operator, I want to understand trigger types so that I can choose the right trigger for my use case.\n\n## Acceptance Criteria\n- [ ] Documents all trigger types:\n  - Interval: \"Every X minutes/hours after last completion\"\n  - Cron: Standard cron expressions\n  - Webhook: HTTP POST endpoints (future)\n  - Chat: Discord/Slack messages (future)\n- [ ] Shows syntax for each trigger type\n- [ ] Examples for common patterns\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows triggers page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:38.304936-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:51:27.1447-05:00","closed_at":"2026-01-19T18:51:27.1447-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.6","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:38.305451-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.6","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:00.018589-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.7","title":"US-7: Create Concepts Section - Jobs","description":"As a fleet operator, I want to understand what Jobs are so that I can track and monitor agent executions.\n\n## Acceptance Criteria\n- [ ] Explains Job concept (single execution of an agent)\n- [ ] Documents job properties: id, agent, schedule, status, session_id, timestamps, output\n- [ ] Documents job statuses: running, completed, failed, cancelled\n- [ ] Documents exit reasons: success, error, timeout, manual_cancel\n- [ ] Explains job output format (JSONL)\n- [ ] Links to State Management for storage details\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows jobs page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:44.297151-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:53:19.716924-05:00","closed_at":"2026-01-19T18:53:19.716924-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.7","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:44.297703-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.7","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:00.091165-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.8","title":"US-8: Create Concepts Section - Workspaces","description":"As a fleet operator, I want to understand workspace isolation so that my agents don't interfere with my development clones.\n\n## Acceptance Criteria\n- [ ] Explains workspace concept (directory where agent operates)\n- [ ] Documents the isolation problem (agents shouldn't touch dev clones)\n- [ ] Explains workspace root configuration\n- [ ] Shows directory structure example from SPEC.md\n- [ ] Documents auto-clone behavior\n- [ ] Notes that multiple agents can share a workspace\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows workspaces page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:49.751269-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:55:31.766505-05:00","closed_at":"2026-01-19T18:55:31.766505-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.8","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:49.751836-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.8","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:00.162027-05:00","created_by":"Ed Spencer"}]}
{"id":"herdctl-u8t.9","title":"US-9: Create Concepts Section - Sessions","description":"As a fleet operator, I want to understand session management so that I can control agent context persistence.\n\n## Acceptance Criteria\n- [ ] Explains Session concept (Claude context)\n- [ ] Documents session modes:\n  - fresh_per_job: New session each job\n  - persistent: Maintain context across jobs\n  - per_channel: For chat integrations\n- [ ] Documents resume/fork capabilities\n- [ ] Example configuration\n- [ ] cd docs \u0026\u0026 pnpm build completes without errors\n- [ ] cd docs \u0026\u0026 pnpm dev shows sessions page correctly","status":"closed","priority":2,"issue_type":"task","owner":"ed@edspencer.net","created_at":"2026-01-19T18:30:54.695893-05:00","created_by":"Ed Spencer","updated_at":"2026-01-19T18:57:56.37347-05:00","closed_at":"2026-01-19T18:57:56.37347-05:00","close_reason":"Completed by agent","labels":["ralph","task"],"dependencies":[{"issue_id":"herdctl-u8t.9","depends_on_id":"herdctl-u8t","type":"parent-child","created_at":"2026-01-19T18:30:54.696431-05:00","created_by":"Ed Spencer"},{"issue_id":"herdctl-u8t.9","depends_on_id":"herdctl-u8t.3","type":"blocks","created_at":"2026-01-19T18:32:00.233926-05:00","created_by":"Ed Spencer"}]}
