---
title: CLI Reference
description: Complete command reference for herdctl
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

The `herdctl` CLI provides commands for managing and interacting with your agent fleet.

## Installation

```bash
# Install globally
npm install -g herdctl

# Or use via npx
npx herdctl [command]
```

## Commands

### trigger

Manually trigger an agent to run a job.

```bash
herdctl trigger <agent-name> [options]
```

**Arguments:**

| Argument | Description |
|----------|-------------|
| `agent-name` | Name of the agent to trigger |

**Options:**

| Option | Description |
|--------|-------------|
| `-p, --prompt <text>` | Prompt to send to the agent (uses `default_prompt` if not specified) |
| `-q, --quiet` | Suppress streaming output during execution |
| `--json` | Output result in JSON format |

**Examples:**

```bash
# Trigger with default prompt (if agent has default_prompt configured)
herdctl trigger price-checker

# Trigger with custom prompt
herdctl trigger hurricane-watcher --prompt "Check for storms near Miami"

# Quiet mode - no streaming, just final result
herdctl trigger my-agent -q

# JSON output for scripting
herdctl trigger my-agent --json
```

**Streaming Output:**

By default, the trigger command streams the agent's output in real-time:

```
$ herdctl trigger price-checker
Triggering agent: price-checker
Job started: job-2024-01-15-abc123

I'll check the current prices for office chairs at Staples and IKEA.

First, let me fetch the Staples Hyken chair page...
[...]

**Price Check Complete**: Staples Hyken at $159.99 (best deal, meets $200 target).
IKEA MARKUS at $299.99. Buy here: https://www.staples.com/...

Job completed successfully in 45.2s
```

**Output Display:**

After job completion, the agent's final output is displayed (truncated at 20,000 characters if needed). Use `--quiet` to suppress this.

**Hooks:**

If the agent has [hooks](/concepts/hooks/) configured, they run after the job completes. Hook execution is logged:

```
Running hook: Price alert (discord)
Hook completed: Price alert
```

### status

Show the status of agents and running jobs.

```bash
herdctl status [agent-name]
```

**Examples:**

```bash
# Show all agents
herdctl status

# Show specific agent
herdctl status price-checker
```

### logs

View logs for agents or specific jobs.

```bash
herdctl logs [agent-name] [options]
```

**Options:**

| Option | Description |
|--------|-------------|
| `-f, --follow` | Stream logs in real-time |
| `--job <id>` | Show logs for specific job |
| `-n, --lines <count>` | Number of lines to show (default: 100) |

**Examples:**

```bash
# View recent logs
herdctl logs price-checker

# Follow logs in real-time
herdctl logs price-checker -f

# View specific job logs
herdctl logs --job job-2024-01-15-abc123
```

### start

Start the fleet daemon to run scheduled jobs.

```bash
herdctl start [options]
```

**Options:**

| Option | Description |
|--------|-------------|
| `-d, --daemon` | Run in background |
| `--agent <name>` | Start specific agent only |

**Examples:**

```bash
# Start all agents
herdctl start

# Start in background
herdctl start -d

# Start specific agent
herdctl start --agent price-checker
```

### stop

Stop running agents.

```bash
herdctl stop [agent-name]
```

**Examples:**

```bash
# Stop all agents
herdctl stop

# Stop specific agent
herdctl stop price-checker
```

### validate

Validate configuration files.

```bash
herdctl validate [path]
```

**Examples:**

```bash
# Validate all configuration
herdctl validate

# Validate specific agent
herdctl validate agents/my-agent.yaml
```

### init

Initialize a new herdctl project.

```bash
herdctl init [options]
```

**Options:**

| Option | Description |
|--------|-------------|
| `--example <name>` | Start from an example template |

**Examples:**

```bash
# Initialize in current directory
herdctl init

# Initialize from example
herdctl init --example price-checker
```

## Global Options

These options work with all commands:

| Option | Description |
|--------|-------------|
| `-c, --config <path>` | Path to herdctl.yaml (default: `./herdctl.yaml`) |
| `-v, --verbose` | Enable verbose output |
| `--version` | Show version number |
| `--help` | Show help |

## Exit Codes

| Code | Meaning |
|------|---------|
| `0` | Success |
| `1` | General error |
| `2` | Configuration error |
| `3` | Agent error |
| `4` | Job error |

## Environment Variables

| Variable | Description |
|----------|-------------|
| `ANTHROPIC_API_KEY` | **Required.** Claude API key |
| `HERDCTL_CONFIG` | Path to config file (alternative to `-c`) |
| `HERDCTL_LOG_LEVEL` | Log level: `debug`, `info`, `warn`, `error` |

Additional environment variables may be required for integrations:

| Variable | Description |
|----------|-------------|
| `GITHUB_TOKEN` | GitHub API access for work sources |
| `DISCORD_BOT_TOKEN` | Discord bot token for notifications/chat |
| `DISCORD_CHANNEL_ID` | Default Discord channel for notifications |

## Configuration Files

herdctl looks for configuration in this order:

1. Path specified with `-c` / `--config`
2. `HERDCTL_CONFIG` environment variable
3. `./herdctl.yaml` in current directory
4. `./agents/*.yaml` for agent definitions

See [Fleet Configuration](/configuration/fleet-config/) and [Agent Configuration](/configuration/agent-config/) for details.

## Related Pages

- [Getting Started](/getting-started/) — First-time setup guide
- [Agent Configuration](/configuration/agent-config/) — Agent YAML reference
- [Hooks](/concepts/hooks/) — Post-job notifications and actions
- [Triggers](/concepts/triggers/) — How jobs are started
