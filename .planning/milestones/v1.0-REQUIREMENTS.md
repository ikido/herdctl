# Requirements Archive: v1.0 Security Audit System

**Archived:** 2026-02-05
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/PROJECT.md` (Validated section).

---

# Requirements: GSD-Style Security Audit System

**Defined:** 2026-02-05
**Core Value:** Continuous, intelligent security oversight that improves over time

## v1 Requirements

Requirements for initial release. Each maps to roadmap phases.

### State Infrastructure

- [x] **STATE-01**: STATE.md with Current Position section (last mapping, last audit, commits since, open findings/questions counts)
- [x] **STATE-02**: STATE.md with Coverage Status section (table of areas with last-checked dates, staleness indicators)
- [x] **STATE-03**: STATE.md with Active Investigations section (in-progress findings and questions)
- [x] **STATE-04**: STATE.md with Accumulated Context section (recent decisions, known gaps, session continuity)
- [x] **STATE-05**: Update STATE.md automatically after every audit run

### Codebase Mapping

- [x] **MAP-01**: attack-surface-mapper agent definition with entry points, APIs, trust boundaries focus
- [x] **MAP-02**: data-flow-tracer agent definition tracing user input to sensitive operations
- [x] **MAP-03**: security-controls-mapper agent definition documenting existing defenses
- [x] **MAP-04**: threat-vector-analyzer agent definition for codebase-specific attack patterns
- [x] **MAP-05**: Mapper agents write directly to `.security/codebase-map/`
- [x] **MAP-06**: Auto-refresh mapping when 15+ commits OR 7+ days since last mapping

### Investigation Agents

- [x] **INV-01**: hot-spot-verifier agent verifying critical files from HOT-SPOTS.md
- [x] **INV-02**: question-investigator agent researching open questions from CODEBASE-UNDERSTANDING.md
- [x] **INV-03**: change-analyzer agent for security-focused commit review

### Commands

- [x] **CMD-01**: /security-map-codebase orchestrator spawning 4 parallel mapper agents
- [x] **CMD-02**: /security-audit orchestrator with conditional investigator spawning
- [x] **CMD-03**: /security-audit spawn hot-spot-verifier when critical files modified
- [x] **CMD-04**: /security-audit spawn question-investigator when open questions exist
- [x] **CMD-05**: /security-audit spawn change-analyzer when commits since last audit
- [x] **CMD-06**: /security-audit-daily meta-orchestrator
- [x] **CMD-07**: /security-audit-daily commits results to `security-audits` branch

### Integration

- [x] **INT-01**: Orchestrators use <20% context, delegate depth to subagents
- [x] **INT-02**: Preserve existing scan.ts scanner integration
- [x] **INT-03**: Agent definitions in `.claude/agents/security/`
- [x] **INT-04**: Update FINDINGS-INDEX.md and CODEBASE-UNDERSTANDING.md after audits

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| STATE-01 | Phase 1 | Complete |
| STATE-02 | Phase 1 | Complete |
| STATE-03 | Phase 1 | Complete |
| STATE-04 | Phase 1 | Complete |
| STATE-05 | Phase 1 | Complete |
| MAP-01 | Phase 2 | Complete |
| MAP-02 | Phase 2 | Complete |
| MAP-03 | Phase 2 | Complete |
| MAP-04 | Phase 2 | Complete |
| MAP-05 | Phase 3 | Complete |
| MAP-06 | Phase 3 | Complete |
| INV-01 | Phase 4 | Complete |
| INV-02 | Phase 5 | Complete |
| INV-03 | Phase 6 | Complete |
| CMD-01 | Phase 3 | Complete |
| CMD-02 | Phase 7 | Complete |
| CMD-03 | Phase 7 | Complete |
| CMD-04 | Phase 7 | Complete |
| CMD-05 | Phase 7 | Complete |
| CMD-06 | Phase 8 | Complete |
| CMD-07 | Phase 8 | Complete |
| INT-01 | Phase 7 | Complete |
| INT-02 | Phase 7 | Complete |
| INT-03 | Phase 8 | Complete |
| INT-04 | Phase 7 | Complete |

**Coverage:**
- v1 requirements: 25 total
- Shipped: 25
- Deferred: 0

---

## Milestone Summary

**Shipped:** 25 of 25 v1 requirements
**Adjusted:** None â€” all requirements shipped as specified
**Dropped:** None

---
*Archived: 2026-02-05 as part of v1.0 milestone completion*
